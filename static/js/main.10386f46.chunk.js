(this.webpackJsonpmitraistestfrontend=this.webpackJsonpmitraistestfrontend||[]).push([[0],{73:function(e,t,n){e.exports=n(90)},82:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),i=n.n(o),c=n(5),s=n(21),l=n(38),u=n(31),d=(n(82),n(24)),g=n(16),m=n(47),h=n(64),b=n(13),p={errorCode:"",errorMessage:"",showErrorComponent:!1};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_error_message":var n=t.payload,a=n.code,r=n.message;return Object(b.a)({},e,{errorCode:a,errorMessage:r,showErrorComponent:!0});case"show_error_message":return Object(b.a)({},e,{showErrorComponent:!0});case"hide_error_message":return Object(b.a)({},e,{},p);default:return e}}var v={mobileNumber:"",firstName:"",lastName:"",dob:{day:"",month:"",year:""},gender:2,email:"",showLoginButton:!1,isRegistered:!1,isFetchingApi:!1};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_state_registration":var n=t.payload,a=n.keyState,r=n.valState,o=Object(b.a)({},e);return o[a]=r,Object(b.a)({},e,{},o);case"set_dob_state_registration":var i=t.payload,c=i.keyDob,s=i.valDob,l=Object(b.a)({},e.dob);return l[c]=s,Object(b.a)({},e,{dob:Object(b.a)({},l)});case"show_login_button_registration":return Object(b.a)({},e,{showLoginButton:!0});case"hide_login_button_registration":return Object(b.a)({},e,{showLoginButton:!1});case"success_registration":return Object(b.a)({},v,{isRegistered:!0});case"set_is_fetching_api":var u=t.payload.statusFetch;return Object(b.a)({},e,{isFetchingApi:u});default:return e}}var y=n(53),E=n.n(y),w=n(65),O=n(12),j=n.n(O),k=n(19),S=function(e){return{type:"set_is_fetching_api",payload:{statusFetch:e}}},C=function(e,t){return{type:"set_error_message",payload:{code:e,message:t}}},B=n(32),_=function(){var e=Object(B.a)(j.a.mark((function e(t,n){var a,r,o=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:{},e.next=3,fetch(t,{body:JSON.stringify(n),method:"POST",headers:Object(b.a)({},a,{"content-type":"application/json"})});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R={appGet:function(){var e=Object(B.a)(j.a.mark((function e(t){var n,a,r=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,fetch(t,{method:"GET",headers:Object(b.a)({},n,{"content-type":"application/json"})});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),appPost:_},N={register:function(){var e=Object(B.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,"https://mitraist.herokuapp.com/auth/signup",e.next=4,R.appPost("https://mitraist.herokuapp.com/auth/signup",n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=j.a.mark(D),L=j.a.mark(T),M=j.a.mark(z),A=function(e){return N.register({payload:e}).then((function(e){return e})).catch((function(e){return e}))};function D(){var e,t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(k.d)(S(!0));case 2:return n.prev=2,n.next=5,Object(k.e)((function(e){return e.Registration}));case 5:return(e=n.sent).dob="".concat(e.dob.year,"-").concat(e.dob.month,"-").concat(e.dob.day),n.next=9,Object(k.b)(A,e);case 9:if(0===(t=n.sent).error){n.next=15;break}return n.next=13,Object(k.d)(C(t.error,t.message));case 13:n.next=19;break;case 15:return n.next=17,Object(k.d)({type:"success_registration"});case 17:return n.next=19,Object(k.d)({type:"show_login_button_registration"});case 19:n.next=24;break;case 21:throw n.prev=21,n.t0=n.catch(2),n.t0;case 24:return n.next=26,Object(k.d)(S(!1));case 26:case"end":return n.stop()}}),F,null,[[2,21]])}function T(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.f)("saga_registration",D);case 2:case"end":return e.stop()}}),L)}function z(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)([Object(k.c)(T)]);case 2:case"end":return e.stop()}}),M)}var q=j.a.mark(I);function I(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)([Object(k.c)(z)]);case 2:case"end":return e.stop()}}),q)}var W,P=n(54),Y={timeout:null,key:"root",storage:n.n(P).a,whitelist:[""],blacklist:[""]},G=Object(d.a)(),H=g.d,J=Object(h.a)(Y,(W=G,Object(g.c)({router:Object(u.b)(W),ErrorHandling:f,Registration:x}))),$=Object(w.a)(),K=Object(m.a)(G),Q=[$,E.a];var U=n(8),V=n(92),X=n(110),Z=n(112),ee=n(113),te=n(18);function ne(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function ae(){var e=Object(a.useState)(ne()),t=Object(te.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){r(ne())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}var re="#000000",oe="#9c27b0",ie="#388e3c",ce="#f4382d",se="#958d8d",le="#fafafa",ue="#FFF";var de=function(e){var t={container:{overflow:"hidden",display:"flex",position:"relative"},input:{flexGrow:1,width:"100%",padding:10,border:"1px solid black",marginBottom:15,fontSize:15},"&::focus":{outline:"none",border:"1px solid black",boxShadow:"0px 0px 0px 0.1"},error:{position:"relative",width:"100%"}};return r.a.createElement("div",{style:t.error},r.a.createElement("div",{style:t.container},r.a.createElement("input",{type:"text",style:t.input,onChange:function(t){e.onChange(t.target.value)},value:e.value,placeholder:e.label,onFocus:e.onFocus,onBlur:e.onBlur})))},ge=n(108);var me=function(e){return r.a.createElement(ge.a,{color:e.color,variant:"contained",fullWidth:!0,onClick:function(){return e.onClick()}},e.loading?"Loading":e.label)},he=n(4),be=n.n(he),pe=n(58),fe=n(29),ve=n(59),xe=n(60),ye=n(66);var Ee=function(e){var t,n={content:{width:"100%"},labelItems:{cursor:"pointer",width:"100%",textAlign:"left",float:"left",padding:"12px 0px",borderBottom:"1px solid rgb(239, 239, 239, 1)",display:"inline-block"},labelContent:{marginLeft:15,fontSize:14}},a=e.show,o=e.itemSelect;return o.length<1?null:r.a.createElement("div",{style:(t=a,{width:"100%",background:"white",border:"1px solid rgb(239, 239, 239, 1)",WebkitBoxShadow:"0px 3px 5px 0px rgba(163,163,163,0.5)",MozBoxShadow:"0px 3px 5px 0px rgba(163,163,163,0.5)",boxShadow:"0px 3px 5px 0px rgba(163,163,163,0.5)",position:"absolute",zIndex:3,top:50,left:0,right:0,display:t?"block":"none",maxHeight:200,overflow:"scroll"})},o.map((function(t,a){return r.a.createElement("div",{key:a.toString(),style:n.content,className:"clearfix"},r.a.createElement("div",{style:n.labelItems,onClick:function(){return e.onSelect(t)}},r.a.createElement("span",{style:n.labelContent},t.label)))})))},we=n(61),Oe=n.n(we),je={container:{position:"relative"},filterButtonStyle:{border:"1px solid ".concat(re)},labelFilterStyleButton:{fontSize:14,float:"left",padding:10},labelFilterStyleIcon:{float:"right"}},ke=function(e){function t(e){var n;return Object(pe.a)(this,t),(n=Object(ve.a)(this,Object(xe.a)(t).call(this,e))).state={open:!1},n}return Object(ye.a)(t,e),Object(fe.a)(t,[{key:"handleFilterStyle",value:function(){this.setState({open:!this.state.open})}},{key:"handleClick",value:function(){this.setState({open:!this.state.open})}},{key:"renderButtonFilter",value:function(){var e=this.props.labelButton;return r.a.createElement("div",{style:je.filterButtonStyle,className:"clearfix",onClick:this.handleClick.bind(this)},r.a.createElement("span",{style:je.labelFilterStyleButton},e),r.a.createElement("span",{style:je.labelFilterStyleIcon},r.a.createElement(Oe.a,{color:"primary",fontSize:"large"})))}},{key:"renderItemSelectOption",value:function(){var e=this,t=this.props.data;return r.a.createElement(Ee,{show:this.state.open,itemSelect:t,onSelect:function(t){return e.props.onSelect(t)}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:je.container,onClick:function(){return e.handleFilterStyle()}},this.renderButtonFilter(),this.renderItemSelectOption())}}]),t}(a.Component),Se=n(62),Ce=n.n(Se);ke.propTypes={data:be.a.array.isRequired,onSelect:be.a.func.isRequired};var Be=Object(U.a)((function(e){return{dob:{paddingRight:0,marginBottom:15}}}))((function(e){var t=e.classes,n=ae().width,o=function(){return n<786?12:6},i=function(){return n<786?12:4},c=(new Date).getMonth()+1,s=Object(a.useState)({value:"01",label:"1"}),l=Object(te.a)(s,2),u=(l[0],l[1]),d=Object(a.useState)({value:c,label:"JAN"}),g=Object(te.a)(d,2),m=g[0],h=g[1],b=Object(a.useState)({value:"2020",label:"2020"}),p=Object(te.a)(b,2),f=p[0],v=p[1],x=Object(a.useState)([1]),y=Object(te.a)(x,2),E=y[0],w=y[1],O=Object(a.useState)("Date"),j=Object(te.a)(O,2),k=j[0],S=j[1],C=Object(a.useState)("Month"),B=Object(te.a)(C,2),_=B[0],R=B[1],N=Object(a.useState)("Year"),F=Object(te.a)(N,2),L=F[0],M=F[1],A=function(e,t){for(var n=new Date(e,t,0).getDate(),a=[],r=1;r<=n;r++){var o=r;a.push({value:o,label:r})}return a};return r.a.createElement(X.a,{container:!0,item:!0,xs:12},r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{item:!0,xs:o(),sm:i(),style:{paddingRight:n>786?10:0},className:t.dob},r.a.createElement(ke,{labelButton:_,data:function(){for(var e=Ce.a.monthsShort(),t=[],n=1;n<=e.length;n++){var a=n;t.push({value:a,label:e[n-1]})}return t}(),onSelect:function(t){return function(t){h(t),e.onChangeMonth(t.value);var n=A(f.value,t.value);w(n),R(t.label)}(t)}})),r.a.createElement(X.a,{item:!0,xs:o(),sm:i(),style:{paddingRight:n>786?10:0},className:t.dob},r.a.createElement(ke,{labelButton:k,data:E,onSelect:function(t){return u(n=t),e.onChangeDay(n.value),void S(n.label);var n}})),r.a.createElement(X.a,{item:!0,xs:o(),sm:i(),className:t.dob},r.a.createElement(ke,{labelButton:L,data:function(){for(var e=[],t=(new Date).getFullYear(),n=0;n<=t;n++)n>1945&&e.unshift({value:n,label:n});return e}(),onSelect:function(t){return function(t){v(t),e.onChangeYear(t.value);var n=A(t.value,m.value);w(n),M(t.label)}(t)}}))))})),_e=n(111),Re=n(115);var Ne=function(e){var t=Object(a.useState)(!1),n=Object(te.a)(t,2),o=(n[0],n[1]);return r.a.createElement(_e.a,{control:r.a.createElement(Re.a,{color:"primary",checked:e.checked}),label:e.label,onChange:function(t){o(t),e.onChange(t)}})};var Fe=function(e){return r.a.createElement(X.a,{container:!0,item:!0,xs:12},r.a.createElement(X.a,{item:!0,xs:6,sm:6,align:"left"},r.a.createElement(Ne,{label:"male",checked:1===e.checked,onChange:function(t){return e.onChange(1)}})),r.a.createElement(X.a,{item:!0,xs:6,sm:6,align:"left"},r.a.createElement(Ne,{label:"female",checked:0===e.checked,onChange:function(t){return e.onChange(0)}})))};var Le={isRequired:{error:204,success:!1,message:"Email is required and should valid email address"},isExist:{error:202,success:!1,message:"Your email is not available, plase use other"}},Me=n(117),Ae=n(116),De={box:{padding:"10px 0px",background:ce,border:"1px solid ".concat(se),position:"relative",marginBottom:15},text:{color:ue,fontSize:14},arrow:{margin:"0 auto",width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"10px solid ".concat(ce),position:"absolute",left:0,right:0,bottom:-10}};var Te=function(e){return r.a.createElement(Me.a,null,r.a.createElement(Ae.a,{timeout:500,classNames:"error"},r.a.createElement("div",{style:De.box,onClick:function(){return e.hide()}},r.a.createElement("div",{style:De.arrow}),r.a.createElement("span",{style:De.text},e.message))))};var ze=Object(s.c)((function(e){var t=e.ErrorHandling,n=e.Registration;return{errorCode:t.errorCode,errorMessage:t.errorMessage,mobileNumber:n.mobileNumber,firstName:n.firstName,lastName:n.lastName,dob:n.dob,gender:n.gender,email:n.email,showLoginButton:n.showLoginButton,isFetchingApi:n.isFetchingApi}}),{sagaRegistration:function(){return{type:"saga_registration"}},setStateRegistration:function(e,t){return{type:"set_state_registration",payload:{keyState:e,valState:t}}},setDobStateRegistration:function(e,t){return{type:"set_dob_state_registration",payload:{keyDob:e,valDob:t}}},setErrorMessage:C,hideErrorMessage:function(){return{type:"hide_error_message"}}})(Object(U.a)((function(e){return{root:{flexGrow:1},grid:{margin:"0px auto"},gridBlock:{margin:"0px auto",left:0,right:0,width:"100%",height:464,position:"absolute",background:"#b9b9b996",zIndex:3e3},footerArea:{width:"100%",position:"absolute"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,background:le},title:{textAlign:"left",marginBottom:15}}}))((function(e){var t=e.classes,n=e.sagaRegistration,a=e.setStateRegistration,o=e.setDobStateRegistration,i=e.mobileNumber,c=e.firstName,s=e.lastName,l=e.isFetchingApi,u=e.gender,d=e.email,g=e.showLoginButton,m=e.errorCode,h=e.errorMessage,b=e.setErrorMessage,p=e.hideErrorMessage,f=ae().width;return r.a.createElement(Z.a,{sm:12},r.a.createElement((function(e){return e.show?r.a.createElement(X.a,{item:!0,xs:12,sm:12,className:t.gridBlock}):r.a.createElement("div",null)}),{show:g}),r.a.createElement(X.a,{item:!0,xs:12,sm:function(e){return e<1208&&e>786?6:e<786?12:6}(f),className:t.grid},r.a.createElement(ee.a,{elevation:0,className:t.paper},r.a.createElement((function(){return r.a.createElement(V.a,{variant:"h5",component:"h1",className:t.title,color:"primary"},"Registration")}),null),201==m&&""!==h&&r.a.createElement(Te,{hide:p,message:h}),r.a.createElement(de,{label:"Mobile number",width:f,onBlur:function(){""==i&&b(201,"Mobile number is required")},value:i,onChange:function(e){return a("mobileNumber",function(e){var t=e.length;if("0"==e.substr(0,1)){var n=e.substr(1,t);return"62".concat(n)}return e}(e))}}),202==m&&""!==h&&r.a.createElement(Te,{hide:p,message:h}),r.a.createElement(de,{label:"First name",width:f,onBlur:function(){""==c&&b(202,"First name is required")},value:c,onChange:function(e){return a("firstName",e)}}),203==m&&""!==h&&r.a.createElement(Te,{hide:p,message:h}),r.a.createElement(de,{label:"Last name",width:f,onBlur:function(){""==s&&b(203,"Last name is required")},value:s,onChange:function(e){return a("lastName",e)}}),r.a.createElement(Be,{onChangeMonth:function(e){return o("month",e)},onChangeDay:function(e){return o("day",e)},onChangeYear:function(e){return o("year",e)}}),r.a.createElement(Fe,{checked:u,onChange:function(e){return a("gender",e)}}),204==m&&""!==h&&r.a.createElement(Te,{hide:p,message:h}),r.a.createElement(de,{label:"Email",width:f,onBlur:function(){""==d&&b(304,"Email is required and should valid email address")},value:d,onChange:function(e){var t=function(e){if(e.length>6){return!1!==/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{1,6})+$/.test(String(e).toLowerCase())}return!0}(e),n=Le.isRequired;t?p():b(n.error,n.message),a("email",e)}}),r.a.createElement(me,{loading:l,color:"secondary",label:"Register",onClick:function(){n()}}))))}))),qe=n(63),Ie=n(114),We={palette:{primary:{light:re,main:re,dark:re,contrastText:"#fff"},secondary:{light:oe,main:oe,dark:oe,contrastText:"#fff"},error:{light:ce,main:ce,dark:ce,contrastText:"#fff"},success:{light:ie,main:ie,dark:ie,contrastText:"#fff"}},status:{danger:"orange"},typography:{button:{fontWeight:400,textAlign:"capitalize"}}},Pe={footer:{marginTop:30,width:"100%",padding:30,background:oe,contentAlign:"center"},footerTitle:{color:ue,textAlign:"center"}};function Ye(e){var t="".concat("/mitraistestfrontend"),n=e.action;return r.a.createElement(me,{label:"Login",onClick:function(){n(),e.history.push("".concat(t,"/login"),{})}})}function Ge(){return r.a.createElement("h1",{style:Pe.footerTitle},"Footer")}var He=Object(s.c)((function(e){var t=e.Registration;return{showLoginButton:t.showLoginButton,hideLoginButtonRegistration:t.hideLoginButtonRegistration}}),{hideLoginButtonRegistration:function(){return{type:"hide_login_button_registration"}}})((function(e){var t=e.hideLoginButtonRegistration,n=e.showLoginButton;return r.a.createElement("div",{style:Pe.footer},n?r.a.createElement(Ye,Object.assign({action:t},e)):r.a.createElement(Ge,null))}));var Je=function(e){console.log("Props Registration",e);var t=Object(qe.a)(We);return r.a.createElement(Ie.a,{theme:t},r.a.createElement(ze,e),r.a.createElement(He,e))},$e={container:{width:"100vw",height:"100vh"},login:{background:le,width:"100%",height:500},titleLogin:{color:re,textAlign:"center"},link:{marginTop:15,padding:15,background:re,color:ue,margin:"0px auto",display:"table",textDecoration:"none",borderRadius:5}};var Ke=function(e){return console.log("Props login",e),r.a.createElement("div",{style:$e.container},r.a.createElement("div",{style:$e.login},r.a.createElement("h4",{style:$e.titleLogin},"This is login page"),r.a.createElement("a",{onMouseOver:function(e){e.target.style.background=oe},onMouseOut:function(e){e.target.style.background=re},style:$e.link,href:"#",onClick:function(){return e.history.goBack()}},"Back to register")),r.a.createElement(He,null))},Qe=function(e){var t=Object(g.e)(J,e,H(g.a.apply(void 0,Q),Object(g.a)(K)));return $.run(I),t}();function Ue(e){var t=e.history,n=e.context,a="".concat("/mitraistestfrontend");return r.a.createElement(u.a,{history:t,context:n},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"".concat(a,"/"),render:function(){return r.a.createElement(l.a,{to:"".concat(a,"/register")})}}),r.a.createElement(l.b,{path:"".concat(a,"/register"),render:function(e){e.staticContext;var t=Object(c.a)(e,["staticContext"]);return r.a.createElement(Je,t)}}),r.a.createElement(l.b,{path:"".concat(a,"/login"),render:function(e){e.staticContext;var t=Object(c.a)(e,["staticContext"]);return r.a.createElement(Ke,t)}})))}var Ve=function(){return r.a.createElement(s.a,{store:Qe,context:s.b},r.a.createElement(Ue,{history:G,context:s.b}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.10386f46.chunk.js.map